/**
 * @tablecraft/table — Default styles
 *
 * Import this file in your app's main CSS to get cursor, column-resizing,
 * and interactive-state styles out of the box:
 *
 *   @import "@tablecraft/table/styles.css";
 *
 * If you use Tailwind CSS v4 you also need the @source directive so Tailwind
 * can scan the package for utility classes:
 *
 *   @source "../../../node_modules/@tablecraft/table/src";
 *
 * (Adjust the relative path so it resolves from your CSS file to the
 *  node_modules directory where the package is installed.)
 */

/* ────────────────────────────────────────────────────────────────────────────
   1. Cursor – pointer for interactive elements
   ──────────────────────────────────────────────────────────────────────────── */

button,
.rdp-button,
.rdp-day,
select,
input[type="checkbox"],
input[type="radio"],
[role="button"],
[role="tab"],
.react-day-picker button,
[data-slot="select-trigger"],
[data-slot="checkbox"],
.day-range-start,
.day-range-end,
.day-range-middle,
[data-radix-collection-item],
[data-slot="button"],
[data-slot="day"],
[data-slot="select-item"] {
  cursor: pointer !important;
}

/* Calendar / date-picker */
.rdp-button,
.rdp-nav_button,
.rdp-month-dropdown-button,
.rdp-dropdown_option,
[data-testid="rdp-nav-button-previous"],
[data-testid="rdp-nav-button-next"],
[data-slot="day"],
[data-slot="day_button"],
[data-slot="day_selected"],
[data-slot="day_range"],
[data-slot="day_today"],
[data-slot="day_outside"],
[data-slot="day_disabled"],
[data-slot="day_hidden"],
.day-outside,
.day-range-start,
.day-range-end,
.day-selected,
div[data-testid="calendar"] button {
  cursor: pointer !important;
}

/* Pagination */
.flex-1 button,
.h-8.w-8.p-0,
nav button,
[data-state="active"],
[data-state="inactive"],
[data-orientation="horizontal"],
[data-orientation="vertical"] {
  cursor: pointer !important;
}

/* Select / dropdowns */
[data-radix-select-trigger],
[data-radix-popper-content-wrapper] *,
[data-state="open"] *,
[data-radix-collection-item],
[data-value],
[role="combobox"],
[role="listbox"],
[role="option"] {
  cursor: pointer !important;
}

/* Checkbox & misc date inputs */
[data-state="checked"],
[data-state="unchecked"],
[data-state="indeterminate"],
input[type="date"],
input[type="datetime-local"],
input[type="month"],
input[type="time"],
input[type="week"] {
  cursor: pointer !important;
}

/* Calendar date-picker by id */
[id^="calendar-date-picker"],
[id^="calendar-date-picker"] *,
[id="rdp-1"],
[id="rdp-1"] *,
[id="rdp-2"],
[id="rdp-2"] * {
  cursor: pointer !important;
}

/* ────────────────────────────────────────────────────────────────────────────
   2. Column resizing
   ──────────────────────────────────────────────────────────────────────────── */

@layer components {
  /* Prevent layout shifts during resize */
  .resizable-table {
    table-layout: fixed;
    width: 100%;
    will-change: contents;
  }

  /* Hardware-accelerated header cells */
  .resizable-table th {
    position: relative;
    overflow: hidden;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
    transition: width 0ms linear;
  }

  /* Lock cursor & selection while dragging */
  body[data-resizing="true"] {
    cursor: col-resize !important;
    user-select: none !important;
    -webkit-user-select: none !important;
    touch-action: none !important;
    pointer-events: none !important;
  }

  body[data-resizing="true"] * {
    cursor: col-resize !important;
  }

  /* No transition during active resize for instant feedback */
  .resizable-table th[data-column-resizing="true"] {
    transition: none !important;
  }

  /* Hover hint */
  .resizable-table th:hover [data-resizing] {
    opacity: 0.8;
  }

  /* Active resize feedback */
  .resizable-table [data-resizing="true"] {
    opacity: 1 !important;
  }
}

/* ────────────────────────────────────────────────────────────────────────────
   3. Resize handle cursor & visuals
   ──────────────────────────────────────────────────────────────────────────── */

@layer components {
  .cursor-col-resize {
    cursor: col-resize;
  }

  [data-resizing],
  [data-resizing] * {
    cursor: col-resize !important;
  }

  [data-resizing] {
    z-index: 10;
  }
}

@layer components {
  .resizable-table [data-resizing] {
    transition:
      opacity 0.15s ease,
      transform 0.1s ease;
  }

  .resizable-table [data-resizing]:hover {
    transform: scaleX(1.5);
    opacity: 1 !important;
  }

  .resizable-table [data-resizing="true"] {
    transform: scaleX(1.5) !important;
  }

  .resizable-table [data-resizing] svg {
    transition:
      opacity 0.15s ease,
      color 0.15s ease;
  }

  .resizable-table [data-resizing]:hover svg {
    opacity: 1 !important;
    color: var(--primary) !important;
  }
}
